<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ignacio & Esperanza</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Poppins',sans-serif;
  background:radial-gradient(circle at top,#ffe1ea,#fde2e4,#fff);
  color:#4a2c2a;
  overflow:hidden;
}

.scene{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:40px 20px;
  opacity:0;
  pointer-events:none;
  transition:opacity 1.5s ease;
}

.scene.active{
  opacity:1;
  pointer-events:auto;
}

.container{
  max-width:900px;
  width:100%;
}

h1,h2{
  font-family:'Playfair Display',serif;
}

p{
  font-size:1.15rem;
  line-height:1.9;
  margin-bottom:20px;
}

button{
  padding:14px 40px;
  border-radius:40px;
  border:none;
  font-size:1.1rem;
  cursor:pointer;
  transition:.3s;
}

.primary{
  background:linear-gradient(135deg,#ff758f,#ffb3c6);
  color:white;
  box-shadow:0 12px 30px rgba(255,117,143,.5);
}

.primary:hover{transform:scale(1.08)}

.secondary{
  background:#ddd;
  color:#555;
  position:absolute;
}

.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:20px;
  margin-top:30px;
}

.gallery img{
  width:100%;
  border-radius:20px;
  box-shadow:0 15px 30px rgba(0,0,0,.15);
}

#lights{
  display:none;
  position:fixed;
  inset:0;
  background:radial-gradient(circle,rgba(255,183,197,.6),transparent 60%);
  animation:pulse 2s infinite;
  pointer-events:none;
}

@keyframes pulse{
  0%{opacity:.3}
  50%{opacity:.8}
  100%{opacity:.3}
}

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}

@media(max-width:600px){
  p{font-size:1.05rem}
}
</style>
</head>

<body>

<audio id="lofi" loop>
  <source src="lofi.mp3" type="audio/mpeg">
</audio>

<audio id="musica">
  <source src="musica.mp3" type="audio/mpeg">
</audio>

<div id="lights"></div>
<canvas id="confetti"></canvas>

<!-- ESCENA 1 -->
<section class="scene active" id="scene1">
  <div class="container">
    <p>
      QuerÃ­a encontrar una forma especial de decirte algo.<br>
      Algo que no se resume en palabras simples.<br><br>
      AsÃ­ que hice estoâ€¦ solo para ti.
    </p>
    <button class="primary" onclick="nextScene(2); startLofi()">Continuar</button>
  </div>
</section>

<!-- ESCENA 2 -->
<section class="scene" id="scene2">
  <div class="container">
    <p>
      Con el tiempo entendÃ­ que no eras solo alguien importante.<br>
      Eras el lugar donde quiero quedarme.
    </p>
    <p>
      Donde las risas se sienten hogar<br>
      y el silencio nunca incomoda.
    </p>
    <button class="primary" onclick="nextScene(3)">Siguiente</button>
  </div>
</section>

<!-- ESCENA 3 -->
<section class="scene" id="scene3">
  <div class="container">
    <p>
      Prometo elegirte incluso en los dÃ­as cansados.<br>
      Escucharte, cuidarte y caminar contigo.
    </p>

    <div class="gallery">
      <img src="imagen1.jpg">
      <img src="imagen2.jpg">
      <img src="imagen3.jpg">
      <img src="imagen4.jpg">
      <img src="imagen5.jpg">
    </div>

    <button class="primary" onclick="nextScene(4)">Hay algo mÃ¡sâ€¦</button>
  </div>
</section>

<!-- ESCENA 4 -->
<section class="scene" id="scene4">
  <div class="container">
    <h2>Esperanza MejÃ­as</h2>
    <p>Con todo lo que soy y todo lo que sientoâ€¦</p>
    <p>Â¿Quieres ser mi polola?</p>

    <button class="primary" onclick="sayYes()">SÃ­ ðŸ’–</button>
    <button class="secondary" id="noBtn">No</button>
  </div>
</section>

<!-- ESCENA FINAL -->
<section class="scene" id="scene5">
  <div class="container">
    <h2>ðŸ’– Ella dijo que sÃ­ ðŸ’–</h2>
    <p>Prometo amarte bonito y caminar contigo cada capÃ­tulo.</p>
    <h2>ðŸ“– CapÃ­tulo 1</h2>
    <p>Dos personas que se eligieron.</p>
    <p>Ignacio & Esperanza</p>
    <p>Y una historia que reciÃ©n comienza.</p>
  </div>
</section>

<script>
let current = 1;

function nextScene(n){
  document.getElementById("scene"+current).classList.remove("active");
  document.getElementById("scene"+n).classList.add("active");
  current = n;
}

function startLofi(){
  const lofi = document.getElementById("lofi");
  lofi.volume = 0.4;
  lofi.play().catch(()=>{});
}

function crossfade(){
  const lofi = document.getElementById("lofi");
  const music = document.getElementById("musica");
  music.volume = 0;
  music.play();

  let v = 0;
  const fade = setInterval(()=>{
    v += 0.02;
    lofi.volume = Math.max(0, lofi.volume - 0.02);
    music.volume = Math.min(1, v);
    if(v >= 1){
      lofi.pause();
      clearInterval(fade);
    }
  },100);
}

function sayYes(){
  crossfade();
  document.getElementById("lights").style.display="block";
  confetti();
  nextScene(5);
}

const noBtn = document.getElementById("noBtn");
noBtn.addEventListener("mouseover",()=>{
  noBtn.style.left = Math.random()*70+"%";
  noBtn.style.top = Math.random()*70+"%";
});

function confetti(){
  const canvas = document.getElementById("confetti");
  const ctx = canvas.getContext("2d");
  canvas.width = innerWidth;
  canvas.height = innerHeight;

  const pieces = Array.from({length:200},()=>({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    s:Math.random()*6+4,
    v:Math.random()*3+2
  }));

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    pieces.forEach(p=>{
      p.y += p.v;
      ctx.fillStyle="rgba(255,117,143,.8)";
      ctx.fillRect(p.x,p.y,p.s,p.s);
      if(p.y>canvas.height)p.y=0;
    });
    requestAnimationFrame(draw);
  }
  draw();
}
</script>

</body>
</html>
